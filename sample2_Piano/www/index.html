<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Piano & Drums</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body, html { width: 100%; height: 100%; overflow: hidden; background: #222; touch-action: none; }
    .container { display: flex; flex-direction: column; width: 100%; height: 100%; }
    .drums { display: flex; width: 100%; height: 30%; background: #333; }
    .drum { flex: 1; margin: 10px; border-radius: 50%; background: linear-gradient(145deg, #444, #222); box-shadow: 5px 5px 15px #111, -5px -5px 15px #555; cursor: pointer; user-select: none; touch-action: none; display: flex; align-items: center; justify-content: center; font-size: 28px; font-weight: bold; color: #fff; transition: all 0.1s; }
    .drum:active, .drum.pressed { background: linear-gradient(145deg, #222, #444); box-shadow: inset 5px 5px 10px #111, inset -5px -5px 10px #555; transform: scale(0.95); }
    .drum[data-sound="Kick"] { background: linear-gradient(145deg, #d32f2f, #b71c1c); }
    .drum[data-sound="Kick"]:active { background: linear-gradient(145deg, #b71c1c, #d32f2f); }
    .drum[data-sound="Snare"] { background: linear-gradient(145deg, #1976d2, #0d47a1); }
    .drum[data-sound="Snare"]:active { background: linear-gradient(145deg, #0d47a1, #1976d2); }
    .drum[data-sound="HiHat"] { background: linear-gradient(145deg, #fbc02d, #f57f17); }
    .drum[data-sound="HiHat"]:active { background: linear-gradient(145deg, #f57f17, #fbc02d); }
    .piano { display: flex; width: 100%; height: 70%; }
    .key { flex: 1; height: 100%; border: 2px solid #000; background: white; cursor: pointer; user-select: none; touch-action: none; display: flex; align-items: flex-end; justify-content: center; font-size: 24px; font-weight: bold; color: #666; padding-bottom: 30px; transition: background-color 0.05s; }
    .key:active, .key.pressed { background: #ddd; }
    .key[data-note="C4"] { border-left: 4px solid #f44336; }
    .key[data-note="D4"] { border-left: 4px solid #ff9800; }
    .key[data-note="E4"] { border-left: 4px solid #ffeb3b; }
    .key[data-note="F4"] { border-left: 4px solid #4caf50; }
    .key[data-note="G4"] { border-left: 4px solid #2196f3; }
    .key[data-note="A4"] { border-left: 4px solid #3f51b5; }
    .key[data-note="B4"] { border-left: 4px solid #9c27b0; }
    .key[data-note="C5"] { border-left: 4px solid #e91e63; }
  </style>
</head>
<body>
  <div class="container">
    <div class="drums">
      <div class="drum" data-sound="Kick">KICK</div>
      <div class="drum" data-sound="Snare">SNARE</div>
      <div class="drum" data-sound="HiHat">HI-HAT</div>
    </div>
    <div class="piano">
      <div class="key" data-note="C4">C</div>
      <div class="key" data-note="D4">D</div>
      <div class="key" data-note="E4">E</div>
      <div class="key" data-note="F4">F</div>
      <div class="key" data-note="G4">G</div>
      <div class="key" data-note="A4">A</div>
      <div class="key" data-note="B4">B</div>
      <div class="key" data-note="C5">C</div>
    </div>
  </div>

  <!-- レイヤー順に読み込み -->
  <script src="audio-engine.js"></script>
  <script src="instrument.js"></script>
  <script src="app.js"></script>
</body>
</html>